import{d as u,c as y,m as l,C as s}from"./index.8a9f494f.js";import{c as g,m as x,e as S}from"./index.1cf73b05.js";import"./echarts.128204f2.js";function v(r,t,c){let i={title:{left:"center",text:"Top 10 "+(r==="teams"?"Teams":"Users"),textStyle:{color:"#00ff00",fontFamily:"'Share Tech Mono', monospace"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",lineStyle:{color:"#00ffcc"}}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,data:[],textStyle:{color:"#00ff00"}},toolbox:{iconStyle:{borderColor:"#00ff00"},feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{},title:"Download",iconStyle:{borderColor:"#00ff00"}}},grid:{containLabel:!0,borderColor:"#00ff00"},xAxis:[{type:"time",boundaryGap:!1,axisLine:{lineStyle:{color:"#00ff00"}},axisLabel:{color:"#00ff00"},splitLine:{lineStyle:{color:"#004400"}},data:[]}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#00ff00"}},axisLabel:{color:"#00ff00"},splitLine:{lineStyle:{color:"#004400"}}}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:10,bottom:10,backgroundColor:"#111",fillerColor:"rgba(233, 236, 241, 0.4)",handleStyle:{color:"#00ff00"},textStyle:{color:"#00ff00"}}],series:[]};const o=Object.keys(t);for(let e=0;e<o.length;e++){const d=[],f=[];for(let a=0;a<t[o[e]].solves.length;a++){d.push(t[o[e]].solves[a].value);const n=u(t[o[e]].solves[a].date);f.push(n.toDate())}const m=g(d);let p=f.map(function(a,n){return[a,m[n]]});i.legend.data.push(t[o[e]].name);const b={name:t[o[e]].name,type:"line",label:{normal:{position:"top"}},itemStyle:{normal:{color:y(t[o[e]].name+t[o[e]].id)}},data:p};i.series.push(b)}return c&&(i=x(i,c)),i}window.Alpine=l;window.CTFd=s;const h=window.scoreboardUpdateInterval||3e5;l.data("ScoreboardDetail",()=>({data:{},show:!0,activeBracket:null,async update(){this.data=await s.pages.scoreboard.getScoreboardDetail(10,this.activeBracket);let r=window.scoreboardChartOptions,t=v(s.config.userMode,this.data,r);S(this.$refs.scoregraph,t),this.show=Object.keys(this.data).length>0},async init(){this.update(),setInterval(()=>{this.update()},h)}}));l.data("ScoreboardList",()=>({standings:[],brackets:[],activeBracket:null,async update(){this.brackets=await s.pages.scoreboard.getBrackets(s.config.userMode),this.standings=await s.pages.scoreboard.getScoreboard()},async init(){this.$watch("activeBracket",r=>{this.$dispatch("bracket-change",r)}),this.update(),setInterval(()=>{this.update()},h)}}));l.start();
