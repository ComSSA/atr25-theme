import{d as y,c as u,m as l,C as r}from"./index.8a9f494f.js";import{c as g,m as S,e as x}from"./index.3813cee8.js";import"./echarts.2dcc02d5.js";function v(s,e,c){let i={title:{left:"center",text:"Top 10 "+(s==="teams"?"Teams":"Users"),textStyle:{color:"#00ff00",fontFamily:"'Share Tech Mono', monospace"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#212529",color:"#ffffff",borderColor:"#00ff00",borderWidth:1,padding:[5,10],fontFamily:"'Share Tech Mono', monospace"},crossStyle:{color:"#00ff00"},lineStyle:{color:"#00ff00"}},backgroundColor:"#212529",borderColor:"#00ff00",borderWidth:1,textStyle:{color:"#ffffff",fontFamily:"'Share Tech Mono', monospace"}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,data:[],textStyle:{color:"#00ff00"}},toolbox:{iconStyle:{borderColor:"#00ff00"},feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{},title:"Download",iconStyle:{borderColor:"#00ff00"}}},grid:{containLabel:!0,borderColor:"#00ff00"},xAxis:[{type:"time",boundaryGap:!1,axisLine:{lineStyle:{color:"#00ff00"}},axisTick:{lineStyle:{color:"#00ff00"}},axisLabel:{color:"#00ff00",fontFamily:"'Share Tech Mono', monospace"},splitLine:{lineStyle:{color:"#005500"}},data:[]}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#ae19bb"}},axisLabel:{color:"#00ff00",fontFamily:"'Share Tech Mono', monospace"},splitLine:{lineStyle:{color:"#005500"}}}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:10,bottom:10,backgroundColor:"#111",fillerColor:"rgba(233, 236, 241, 0.4)",handleStyle:{color:"#00ff00"},textStyle:{color:"#00ff00"}}],series:[]};const t=Object.keys(e);for(let o=0;o<t.length;o++){const d=[],f=[];for(let a=0;a<e[t[o]].solves.length;a++){d.push(e[t[o]].solves[a].value);const n=y(e[t[o]].solves[a].date);f.push(n.toDate())}const m=g(d);let b=f.map(function(a,n){return[a,m[n]]});i.legend.data.push(e[t[o]].name);const p={name:e[t[o]].name,type:"line",label:{normal:{position:"top"}},itemStyle:{normal:{color:u(e[t[o]].name+e[t[o]].id)}},data:b};i.series.push(p)}return c&&(i=S(i,c)),i}window.Alpine=l;window.CTFd=r;const h=window.scoreboardUpdateInterval||3e5;l.data("ScoreboardDetail",()=>({data:{},show:!0,activeBracket:null,async update(){this.data=await r.pages.scoreboard.getScoreboardDetail(10,this.activeBracket);let s=window.scoreboardChartOptions,e=v(r.config.userMode,this.data,s);x(this.$refs.scoregraph,e),this.show=Object.keys(this.data).length>0},async init(){this.update(),setInterval(()=>{this.update()},h)}}));l.data("ScoreboardList",()=>({standings:[],brackets:[],activeBracket:null,async update(){this.brackets=await r.pages.scoreboard.getBrackets(r.config.userMode),this.standings=await r.pages.scoreboard.getScoreboard()},async init(){this.$watch("activeBracket",s=>{this.$dispatch("bracket-change",s)}),this.update(),setInterval(()=>{this.update()},h)}}));l.start();
